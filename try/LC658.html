<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    var findClosestElements = function (arr, k, x) {
      // 先找到x在arr中最左边的位置
      let p = left_bound(arr, x)
      let left = p - 1, right = p
      // console.log(left, right)
      let res = new Array()
      let num = 1
      // 计算个数 当个数和k相等就退出
      while (right - left - 1 < k) {
        if (left === -1) {
          res.push(arr[right++])
        } else if (right === arr.length) {
          res.unshift(arr[left--])
        } else if(x - arr[left] > arr[right] - x) {
          res.push(arr[right++])
        } else {
          res.unshift(arr[left--])
        }
        console.log('num', num++, res)
      }
      return res
    };

    var left_bound = function (arr, x) {
      let left = 0, right = arr.length - 1
      while (left <= right) {
        let mid = left + Math.floor((right - left) / 2)
        if (arr[mid] === x) {
          right = mid - 1
        } else if (arr[mid] < x) {
          left = mid + 1
        } else {
          right = mid - 1
        }
      }
      return left
    }

    const arr = [-2,-1,1,2,3,4,5], k = 7, x = 3
    console.log(left_bound(arr, x))
    console.log(findClosestElements(arr, k, x))
  </script>
</head>

<body>

</body>

</html>